ansible-playbook gpd-disk.yml --extra-vars "zone=us-central1-c" -vv
ansible-playbook 2.9.6
  config file = /etc/ansible/ansible.cfg
  configured module search path = [u'/home/harshita/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/dist-packages/ansible
  executable location = /usr/bin/ansible-playbook
  python version = 2.7.17 (default, Nov  7 2019, 10:07:09) [GCC 7.4.0]
Using /etc/ansible/ansible.cfg as config file
[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

PLAYBOOK: gpd-disk.yml ***********************************************************************************************************************
1 plays in gpd-disk.yml

PLAY [localhost] *****************************************************************************************************************************

TASK [Gathering Facts] ***********************************************************************************************************************
task path: /home/harshita/Documents/gpd-disk.yml:2
ok: [localhost]
META: ran handlers

TASK [Fetch nodes] ***************************************************************************************************************************
task path: /home/harshita/Documents/gpd-disk.yml:9
changed: [localhost] => {"changed": true, "cmd": "kubectl top nodes | tail -n +2 | awk '{print $1}'", "delta": "0:00:05.315826", "end": "2020-03-26 00:51:05.023935", "rc": 0, "start": "2020-03-26 00:50:59.708109", "stderr": "", "stderr_lines": [], "stdout": "gke-harshita-test-default-pool-c00bb84b-2rqr\ngke-harshita-test-default-pool-c00bb84b-k3rp\ngke-harshita-test-default-pool-c00bb84b-p2lf", "stdout_lines": ["gke-harshita-test-default-pool-c00bb84b-2rqr", "gke-harshita-test-default-pool-c00bb84b-k3rp", "gke-harshita-test-default-pool-c00bb84b-p2lf"]}

TASK [Create disks] **************************************************************************************************************************
task path: /home/harshita/Documents/gpd-disk.yml:14
changed: [localhost] => (item=1) => {"ansible_loop_var": "item", "changed": true, "cmd": "gcloud compute disks create \"harshita-disk-1\" --size=30GB --zone=us-central1-c", "delta": "0:00:05.612234", "end": "2020-03-26 00:51:10.831328", "item": 1, "rc": 0, "start": "2020-03-26 00:51:05.219094", "stderr": "WARNING: You have selected a disk size of under [200GB]. This may result in poor I/O performance. For more information, see: https://developers.google.com/compute/docs/disks#performance.\nCreated [https://www.googleapis.com/compute/v1/projects/strong-eon-153112/zones/us-central1-c/disks/harshita-disk-1].\n\nNew disks are unformatted. You must format and mount a disk before it\ncan be used. You can find instructions on how to do this at:\n\nhttps://cloud.google.com/compute/docs/disks/add-persistent-disk#formatting", "stderr_lines": ["WARNING: You have selected a disk size of under [200GB]. This may result in poor I/O performance. For more information, see: https://developers.google.com/compute/docs/disks#performance.", "Created [https://www.googleapis.com/compute/v1/projects/strong-eon-153112/zones/us-central1-c/disks/harshita-disk-1].", "", "New disks are unformatted. You must format and mount a disk before it", "can be used. You can find instructions on how to do this at:", "", "https://cloud.google.com/compute/docs/disks/add-persistent-disk#formatting"], "stdout": "NAME             ZONE           SIZE_GB  TYPE         STATUS\nharshita-disk-1  us-central1-c  30       pd-standard  READY", "stdout_lines": ["NAME             ZONE           SIZE_GB  TYPE         STATUS", "harshita-disk-1  us-central1-c  30       pd-standard  READY"]}
changed: [localhost] => (item=2) => {"ansible_loop_var": "item", "changed": true, "cmd": "gcloud compute disks create \"harshita-disk-2\" --size=30GB --zone=us-central1-c", "delta": "0:00:03.990608", "end": "2020-03-26 00:51:14.932422", "item": 2, "rc": 0, "start": "2020-03-26 00:51:10.941814", "stderr": "WARNING: You have selected a disk size of under [200GB]. This may result in poor I/O performance. For more information, see: https://developers.google.com/compute/docs/disks#performance.\nCreated [https://www.googleapis.com/compute/v1/projects/strong-eon-153112/zones/us-central1-c/disks/harshita-disk-2].\n\nNew disks are unformatted. You must format and mount a disk before it\ncan be used. You can find instructions on how to do this at:\n\nhttps://cloud.google.com/compute/docs/disks/add-persistent-disk#formatting", "stderr_lines": ["WARNING: You have selected a disk size of under [200GB]. This may result in poor I/O performance. For more information, see: https://developers.google.com/compute/docs/disks#performance.", "Created [https://www.googleapis.com/compute/v1/projects/strong-eon-153112/zones/us-central1-c/disks/harshita-disk-2].", "", "New disks are unformatted. You must format and mount a disk before it", "can be used. You can find instructions on how to do this at:", "", "https://cloud.google.com/compute/docs/disks/add-persistent-disk#formatting"], "stdout": "NAME             ZONE           SIZE_GB  TYPE         STATUS\nharshita-disk-2  us-central1-c  30       pd-standard  READY", "stdout_lines": ["NAME             ZONE           SIZE_GB  TYPE         STATUS", "harshita-disk-2  us-central1-c  30       pd-standard  READY"]}
changed: [localhost] => (item=3) => {"ansible_loop_var": "item", "changed": true, "cmd": "gcloud compute disks create \"harshita-disk-3\" --size=30GB --zone=us-central1-c", "delta": "0:00:03.697177", "end": "2020-03-26 00:51:18.753004", "item": 3, "rc": 0, "start": "2020-03-26 00:51:15.055827", "stderr": "WARNING: You have selected a disk size of under [200GB]. This may result in poor I/O performance. For more information, see: https://developers.google.com/compute/docs/disks#performance.\nCreated [https://www.googleapis.com/compute/v1/projects/strong-eon-153112/zones/us-central1-c/disks/harshita-disk-3].\n\nNew disks are unformatted. You must format and mount a disk before it\ncan be used. You can find instructions on how to do this at:\n\nhttps://cloud.google.com/compute/docs/disks/add-persistent-disk#formatting", "stderr_lines": ["WARNING: You have selected a disk size of under [200GB]. This may result in poor I/O performance. For more information, see: https://developers.google.com/compute/docs/disks#performance.", "Created [https://www.googleapis.com/compute/v1/projects/strong-eon-153112/zones/us-central1-c/disks/harshita-disk-3].", "", "New disks are unformatted. You must format and mount a disk before it", "can be used. You can find instructions on how to do this at:", "", "https://cloud.google.com/compute/docs/disks/add-persistent-disk#formatting"], "stdout": "NAME             ZONE           SIZE_GB  TYPE         STATUS\nharshita-disk-3  us-central1-c  30       pd-standard  READY", "stdout_lines": ["NAME             ZONE           SIZE_GB  TYPE         STATUS", "harshita-disk-3  us-central1-c  30       pd-standard  READY"]}

TASK [Attach disks] **************************************************************************************************************************
task path: /home/harshita/Documents/gpd-disk.yml:19
changed: [localhost] => (item=[u'gke-harshita-test-default-pool-c00bb84b-2rqr', 1]) => {"ansible_loop_var": "item", "changed": true, "cmd": "gcloud compute instances attach-disk gke-harshita-test-default-pool-c00bb84b-2rqr --disk \"harshita-disk-1\" --zone=us-central1-c --device-name=\"harshita-disks-1\"", "delta": "0:00:08.139730", "end": "2020-03-26 00:51:27.074317", "item": ["gke-harshita-test-default-pool-c00bb84b-2rqr", 1], "rc": 0, "start": "2020-03-26 00:51:18.934587", "stderr": "Updated [https://www.googleapis.com/compute/v1/projects/strong-eon-153112/zones/us-central1-c/instances/gke-harshita-test-default-pool-c00bb84b-2rqr].", "stderr_lines": ["Updated [https://www.googleapis.com/compute/v1/projects/strong-eon-153112/zones/us-central1-c/instances/gke-harshita-test-default-pool-c00bb84b-2rqr]."], "stdout": "", "stdout_lines": []}
changed: [localhost] => (item=[u'gke-harshita-test-default-pool-c00bb84b-k3rp', 2]) => {"ansible_loop_var": "item", "changed": true, "cmd": "gcloud compute instances attach-disk gke-harshita-test-default-pool-c00bb84b-k3rp --disk \"harshita-disk-2\" --zone=us-central1-c --device-name=\"harshita-disks-2\"", "delta": "0:00:08.285614", "end": "2020-03-26 00:51:35.470576", "item": ["gke-harshita-test-default-pool-c00bb84b-k3rp", 2], "rc": 0, "start": "2020-03-26 00:51:27.184962", "stderr": "Updated [https://www.googleapis.com/compute/v1/projects/strong-eon-153112/zones/us-central1-c/instances/gke-harshita-test-default-pool-c00bb84b-k3rp].", "stderr_lines": ["Updated [https://www.googleapis.com/compute/v1/projects/strong-eon-153112/zones/us-central1-c/instances/gke-harshita-test-default-pool-c00bb84b-k3rp]."], "stdout": "", "stdout_lines": []}
changed: [localhost] => (item=[u'gke-harshita-test-default-pool-c00bb84b-p2lf', 3]) => {"ansible_loop_var": "item", "changed": true, "cmd": "gcloud compute instances attach-disk gke-harshita-test-default-pool-c00bb84b-p2lf --disk \"harshita-disk-3\" --zone=us-central1-c --device-name=\"harshita-disks-3\"", "delta": "0:00:08.889949", "end": "2020-03-26 00:51:44.488990", "item": ["gke-harshita-test-default-pool-c00bb84b-p2lf", 3], "rc": 0, "start": "2020-03-26 00:51:35.599041", "stderr": "Updated [https://www.googleapis.com/compute/v1/projects/strong-eon-153112/zones/us-central1-c/instances/gke-harshita-test-default-pool-c00bb84b-p2lf].", "stderr_lines": ["Updated [https://www.googleapis.com/compute/v1/projects/strong-eon-153112/zones/us-central1-c/instances/gke-harshita-test-default-pool-c00bb84b-p2lf]."], "stdout": "", "stdout_lines": []}

TASK [set_fact] ******************************************************************************************************************************
task path: /home/harshita/Documents/gpd-disk.yml:25
ok: [localhost] => {"ansible_facts": {"flag": "Pass"}, "changed": false}
META: ran handlers
META: ran handlers

PLAY RECAP ***********************************************************************************************************************************
localhost                  : ok=5    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

